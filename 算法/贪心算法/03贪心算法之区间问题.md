# è´ªå¿ƒç®—æ³•è§£å†³ä¸‰é“åŒºé—´é—®é¢˜

|                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :--: |
| [1288. åˆ é™¤è¢«è¦†ç›–åŒºé—´](https://leetcode-cn.com/problems/remove-covered-intervals/) |  ğŸŸ    |
| [56. åˆå¹¶åŒºé—´](https://leetcode-cn.com/problems/merge-intervals/) |  ğŸŸ    |
| [986. åŒºé—´åˆ—è¡¨çš„äº¤é›†](https://leetcode-cn.com/problems/interval-list-intersections/) |  ğŸŸ    |

ç»å¸¸æœ‰è¯»è€…é—®åŒºé—´ç›¸å…³çš„é—®é¢˜ï¼Œä»Šå¤©å†™ä¸€ç¯‡æ–‡ç« ï¼Œç§’æ€ä¸‰é“åŒºé—´ç›¸å…³çš„é—®é¢˜ã€‚

æ‰€è°“åŒºé—´é—®é¢˜ï¼Œå°±æ˜¯çº¿æ®µé—®é¢˜ï¼Œè®©ä½ åˆå¹¶æ‰€æœ‰çº¿æ®µã€æ‰¾å‡ºçº¿æ®µçš„äº¤é›†ç­‰ç­‰ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæŠ€å·§ï¼š

**1ã€æ’åº**ã€‚å¸¸è§çš„æ’åºæ–¹æ³•å°±æ˜¯æŒ‰ç…§åŒºé—´èµ·ç‚¹æ’åºï¼Œæˆ–è€…å…ˆæŒ‰ç…§èµ·ç‚¹å‡åºæ’åºï¼Œè‹¥èµ·ç‚¹ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç»ˆç‚¹é™åºæ’åºã€‚å½“ç„¶ï¼Œå¦‚æœä½ éè¦æŒ‰ç…§ç»ˆç‚¹æ’åºï¼Œæ— éå¯¹ç§°æ“ä½œï¼Œæœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚

**2ã€ç”»å›¾**ã€‚å°±æ˜¯è¯´ä¸è¦å·æ‡’ï¼Œå‹¤åŠ¨æ‰‹ï¼Œä¸¤ä¸ªåŒºé—´çš„ç›¸å¯¹ä½ç½®åˆ°åº•æœ‰å‡ ç§å¯èƒ½ï¼Œä¸åŒçš„ç›¸å¯¹ä½ç½®æˆ‘ä»¬çš„ä»£ç åº”è¯¥æ€ä¹ˆå»å¤„ç†ã€‚

åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢æˆ‘ä»¬æ¥åšé¢˜ã€‚

## 1. åŒºé—´è¦†ç›–é—®é¢˜

è¿™æ˜¯åŠ›æ‰£ç¬¬ 1288 é¢˜ã€Œ [åˆ é™¤è¢«è¦†ç›–åŒºé—´](https://leetcode-cn.com/problems/remove-covered-intervals/)ã€ï¼Œçœ‹ä¸‹é¢˜ç›®ï¼š

[![img](img/title.png)](https://labuladong.github.io/algo/images/åŒºé—´åˆé›†/title.png)

é¢˜ç›®é—®æˆ‘ä»¬ï¼Œå»é™¤è¢«è¦†ç›–åŒºé—´ä¹‹åï¼Œè¿˜å‰©ä¸‹å¤šå°‘åŒºé—´ï¼Œ**é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆç®—ä¸€ç®—ï¼Œè¢«è¦†ç›–åŒºé—´æœ‰å¤šå°‘ä¸ªï¼Œç„¶åå’Œæ€»æ•°ç›¸å‡å°±æ˜¯å‰©ä½™åŒºé—´æ•°**ã€‚

å¯¹äºè¿™ç§åŒºé—´é—®é¢˜ï¼Œå¦‚æœæ²¡å•¥å¤´ç»ªï¼Œé¦–å…ˆæ’ä¸ªåºçœ‹çœ‹ï¼Œæ¯”å¦‚æˆ‘ä»¬æŒ‰ç…§åŒºé—´çš„èµ·ç‚¹è¿›è¡Œå‡åºæ’åºï¼š

[![img](img/1-20220428030236414.jpg)](https://labuladong.github.io/algo/images/mergeInterval/1.jpg)

æ’åºä¹‹åï¼Œä¸¤ä¸ªç›¸é‚»åŒºé—´å¯èƒ½æœ‰å¦‚ä¸‹ä¸‰ç§ç›¸å¯¹ä½ç½®ï¼š

[![img](img/1-20220428030236639.jpeg)](https://labuladong.github.io/algo/images/åŒºé—´åˆé›†/1.jpeg)

å¯¹äºè¿™ä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥è¿™æ ·å¤„ç†ï¼š

å¯¹äºæƒ…å†µä¸€ï¼Œæ‰¾åˆ°äº†è¦†ç›–åŒºé—´ã€‚

å¯¹äºæƒ…å†µäºŒï¼Œä¸¤ä¸ªåŒºé—´å¯ä»¥åˆå¹¶ï¼Œæˆä¸€ä¸ªå¤§åŒºé—´ã€‚

å¯¹äºæƒ…å†µä¸‰ï¼Œä¸¤ä¸ªåŒºé—´å®Œå…¨ä¸ç›¸äº¤ã€‚

ä¾æ®å‡ ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š

```java
int removeCoveredIntervals(int[][] intvs) {
    // æŒ‰ç…§èµ·ç‚¹å‡åºæ’åˆ—ï¼Œèµ·ç‚¹ç›¸åŒæ—¶é™åºæ’åˆ—
    Arrays.sort(intvs, (a, b)->{
            // å‡åº
            if(a[0] > b[0]) return 1;
            if(a[0] < b[0]) return -1;
            // é™åº
            if(a[0]==b[0]){
                if(a[1] > b[1]) return -1;
                if(a[1] < b[1]) return 1;
            }
            return 0;
        });
    // è®°å½•åˆå¹¶åŒºé—´çš„èµ·ç‚¹å’Œç»ˆç‚¹
    int left = intvs[0][0];
    int right = intvs[0][1];
    
    int res = 0;
    for (int i = 1; i < intvs.length; i++) {
        int[] intv = intvs[i];
        // æƒ…å†µä¸€ï¼Œæ‰¾åˆ°è¦†ç›–åŒºé—´
        if (left <= intv[0] && right >= intv[1]) {
            res++;
        }
        // æƒ…å†µäºŒï¼Œæ‰¾åˆ°ç›¸äº¤åŒºé—´ï¼Œåˆå¹¶
        if (right >= intv[0] && right <= intv[1]) {
            right = intv[1];
        }
        // æƒ…å†µä¸‰ï¼Œå®Œå…¨ä¸ç›¸äº¤ï¼Œæ›´æ–°èµ·ç‚¹å’Œç»ˆç‚¹
        if (right < intv[0]) {
            left = intv[0];
            right = intv[1];
        }
    }
    
    return intvs.length - res;
}
```

ä»¥ä¸Šå°±æ˜¯æœ¬é¢˜çš„è§£æ³•ä»£ç ï¼Œèµ·ç‚¹å‡åºæ’åˆ—ï¼Œç»ˆç‚¹é™åºæ’åˆ—çš„ç›®çš„æ˜¯é˜²æ­¢å¦‚ä¸‹æƒ…å†µï¼š

[![img](img/2-20220428030237594.jpeg)](https://labuladong.github.io/algo/images/åŒºé—´åˆé›†/2.jpeg)

å¯¹äºè¿™ä¸¤ä¸ªèµ·ç‚¹ç›¸åŒçš„åŒºé—´ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯é•¿çš„é‚£ä¸ªåŒºé—´åœ¨ä¸Šé¢ï¼ˆæŒ‰ç…§ç»ˆç‚¹é™åºï¼‰ï¼Œè¿™æ ·æ‰ä¼šè¢«åˆ¤å®šä¸ºè¦†ç›–ï¼Œå¦åˆ™ä¼šè¢«é”™è¯¯åœ°åˆ¤å®šä¸ºç›¸äº¤ï¼Œå°‘ç®—ä¸€ä¸ªè¦†ç›–åŒºé—´ã€‚

## 2. åŒºé—´åˆå¹¶é—®é¢˜

[56. åˆå¹¶åŒºé—´ - åŠ›æ‰£](https://leetcode-cn.com/problems/merge-intervals/)

![å›¾ç‰‡](img/640.png)

æˆ‘ä»¬è§£å†³åŒºé—´é—®é¢˜çš„ä¸€èˆ¬æ€è·¯æ˜¯å…ˆæ’åºï¼Œç„¶åè§‚å¯Ÿè§„å¾‹ã€‚

ä¸€ä¸ªåŒºé—´å¯ä»¥è¡¨ç¤ºä¸º`[start, end]`ï¼Œå‰æ–‡èŠçš„åŒºé—´è°ƒåº¦é—®é¢˜ï¼Œéœ€è¦æŒ‰`end`æ’åºï¼Œä»¥ä¾¿æ»¡è¶³è´ªå¿ƒé€‰æ‹©æ€§è´¨ã€‚è€Œå¯¹äºåŒºé—´åˆå¹¶é—®é¢˜ï¼Œå…¶å®æŒ‰`end`å’Œ`start`æ’åºéƒ½å¯ä»¥ï¼Œä¸è¿‡ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œæˆ‘ä»¬é€‰æ‹©æŒ‰`start`æ’åºã€‚

![å›¾ç‰‡](img/640.jpeg)

**æ˜¾ç„¶ï¼Œå¯¹äºå‡ ä¸ªç›¸äº¤åŒºé—´åˆå¹¶åçš„ç»“æœåŒºé—´`x`ï¼Œ`x.start`ä¸€å®šæ˜¯è¿™äº›ç›¸äº¤åŒºé—´ä¸­`start`æœ€å°çš„ï¼Œ`x.end`ä¸€å®šæ˜¯è¿™äº›ç›¸äº¤åŒºé—´ä¸­`end`æœ€å¤§çš„ã€‚**

![å›¾ç‰‡](img/640-20220428032342439.jpeg)

ç”±äºå·²ç»æ’äº†åºï¼Œ`x.start`å¾ˆå¥½ç¡®å®šï¼Œæ±‚`x.end`ä¹Ÿå¾ˆå®¹æ˜“ï¼Œå¯ä»¥ç±»æ¯”åœ¨æ•°ç»„ä¸­æ‰¾æœ€å¤§å€¼çš„è¿‡ç¨‹ï¼š

```java
int max_ele = arr[0];
for (int i = 1; i < arr.length; i++) 
    max_ele = max(max_ele, arr[i]);
return max_ele;
```

ç„¶åå°±å¯ä»¥å†™å‡ºå®Œæ•´ä»£ç 

```java
class Solution {
    public int[][] merge(int[][] intervals) {
        int n = intervals.length;
        if(n==1) return intervals;

        Arrays.sort(intervals, (o1, o2)->{
            // å‰å¤§åå° renturn 1  å°±æ˜¯å‡åº
            if(o1[0]>o2[0]) return 1;
            if(o1[0]<o2[0]) return -1;
            return 0;
        });

        int left = intervals[0][0];
        int right = intervals[0][1];
        List<int[]> ans = new ArrayList<>();

        for(int i=1; i<n; ++i){
            int curLeft = intervals[i][0];
            int curRight = intervals[i][1];
            if(curLeft>right){
                ans.add(new int[]{left, right});
                left = curLeft;
                right = curRight;
            }else{
                right = Math.max(right, curRight);
            }
        }
        //åŠ å…¥æœ€åä¸€ä¸ª
        ans.add(new int[]{left, right});
        return ans.toArray(new int[ans.size()][]);
    }
}
```

## 3. åŒºé—´äº¤é›†

[986. åŒºé—´åˆ—è¡¨çš„äº¤é›† - åŠ›æ‰£](https://leetcode-cn.com/problems/interval-list-intersections/)

![å›¾ç‰‡](img/640-20220428035301574.png)

é¢˜ç›®å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯è®©ä½ æ‰¾äº¤é›†ï¼Œæ³¨æ„åŒºé—´éƒ½æ˜¯é—­åŒºé—´ã€‚

è§£å†³åŒºé—´é—®é¢˜çš„æ€è·¯ä¸€èˆ¬æ˜¯å…ˆæ’åºï¼Œä»¥ä¾¿æ“ä½œï¼Œä¸è¿‡é¢˜ç›®è¯´å·²ç»æ’å¥½åºäº†ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ä¸¤ä¸ªç´¢å¼•æŒ‡é’ˆåœ¨`A`å’Œ`B`ä¸­æ¸¸èµ°ï¼ŒæŠŠäº¤é›†æ‰¾å‡ºæ¥ã€‚

é¦–å…ˆï¼Œ**å¯¹äºä¸¤ä¸ªåŒºé—´**ï¼Œæˆ‘ä»¬ç”¨`[a1,a2]`å’Œ`[b1,b2]`è¡¨ç¤ºåœ¨`A`å’Œ`B`ä¸­çš„ä¸¤ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹è¿™ä¸¤ä¸ªåŒºé—´**æ²¡æœ‰äº¤é›†**å‘¢ï¼š

![å›¾ç‰‡](img/640-20220428035343723.jpeg)

åªæœ‰è¿™ä¸¤ç§æƒ…å†µï¼Œå†™æˆä»£ç çš„æ¡ä»¶åˆ¤æ–­å°±æ˜¯è¿™æ ·ï¼š

```python
if b2 < a1 or a2 < b1:
    [a1,a2] å’Œ [b1,b2] æ— äº¤é›†
```

é‚£ä¹ˆï¼Œä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¸¤ä¸ªåŒºé—´å­˜åœ¨äº¤é›†å‘¢ï¼Ÿæ ¹æ®å‘½é¢˜çš„å¦å®šï¼Œä¸Šé¢é€»è¾‘çš„å¦å‘½é¢˜å°±æ˜¯å­˜åœ¨äº¤é›†çš„æ¡ä»¶ï¼š

```python
# ä¸ç­‰å·å–åï¼Œor ä¹Ÿè¦å˜æˆ and
if b2 >= a1 and a2 >= b1:
    [a1,a2] å’Œ [b1,b2] å­˜åœ¨äº¤é›†
```

æ¥ä¸‹æ¥ï¼Œä¸¤ä¸ªåŒºé—´å­˜åœ¨äº¤é›†çš„æƒ…å†µæœ‰å“ªäº›å‘¢ï¼Ÿç©·ä¸¾å‡ºæ¥ï¼š

![å›¾ç‰‡](img/640-20220428035441526.jpeg)

æˆ‘ä»¬æƒŠå¥‡åœ°å‘ç°ï¼Œäº¤é›†åŒºé—´æ˜¯æœ‰è§„å¾‹çš„ï¼å¦‚æœäº¤é›†åŒºé—´æ˜¯`[c1,c2]`ï¼Œé‚£ä¹ˆ`c1=max(a1,b1)`ï¼Œ`c2=min(a2,b2)`ï¼è¿™ä¸€ç‚¹å°±æ˜¯å¯»æ‰¾äº¤é›†çš„æ ¸å¿ƒï¼Œæˆ‘ä»¬æŠŠä»£ç æ›´è¿›ä¸€æ­¥ï¼š

![å›¾ç‰‡](img/640.gif)

```java
class Solution {
    public int[][] intervalIntersection(int[][] firstList, int[][] secondList) {
        int n = firstList.length, m = secondList.length;
        if(n==0||m==0) return new int[][]{};

        List<int[]> ans = new ArrayList<>();
        int i = 0, j = 0;
        while(i<n && j<m){
            int l1 = firstList[i][0];
            int r1 = firstList[i][1];

            int l2 = secondList[j][0];
            int r2 = secondList[j][1];
            int l = Math.max(l1, l2);
            int r = Math.min(r1, r2);
            if(l<=r){           
                ans.add(new int[]{l,r});
            }
            if(r1 > r2){
                ++j;
            }else{
                ++i;
            }
        }
        return ans.toArray(new int[ans.size()][]);      
    }
}
```

